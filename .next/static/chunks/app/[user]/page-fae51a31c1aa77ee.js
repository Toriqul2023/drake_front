(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{3128:function(e,l,t){Promise.resolve().then(t.bind(t,6595))},6595:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return h}});var i=t(7437);t(1268);var n=t(3145),d=t(7648),a=t(4691);t(2862);var s=t(7996),r=t(3309),o=t(9376),c=t(2265),u=t(3464),m=t(714),x=t(9501),p=t(5571);t(2648);var v=t(3151),b=e=>{let{uid:l}=e,{user:t}=(0,c.useContext)(m.I),[n,d]=(0,c.useState)([]),[a,s]=(0,c.useState)({}),{register:r,handleSubmit:o,reset:p}=(0,x.cI)();(0,c.useEffect)(()=>{u.Z.get("https://nfc-back-2.onrender.com/education?uid=".concat(l)).then(e=>{var l;return d(null===(l=e.data)||void 0===l?void 0:l.result)})},[l]);let v=(e,l)=>{s(l=>({...l,[e]:!l[e]})),a[e]||p({ininstitution:(null==l?void 0:l.institution)||"",degree:(null==l?void 0:l.degree)||"",startDate:(null==l?void 0:l.startDate)||"",endDate:(null==l?void 0:l.endDate)||""})},b=(e,l)=>{var t,i,n,a;let r={};(null==e?void 0:null===(t=e.ininstitution)||void 0===t?void 0:t.trim())&&(r.ininstitution=e.ininstitution),(null==e?void 0:null===(i=e.degree)||void 0===i?void 0:i.trim())&&(r.degree=e.degree),(null==e?void 0:null===(n=e.startDate)||void 0===n?void 0:n.trim())&&(r.startDate=e.startDate),(null==e?void 0:null===(a=e.endDate)||void 0===a?void 0:a.trim())&&(r.endDate=e.endDate),console.log(r),u.Z.patch("https://nfc-back-2.onrender.com/education/".concat(l),r).then(()=>{d(e=>e.map(e=>e._id===l?{...e,...r}:e)),s(e=>({...e,[l]:!1}))}).catch(e=>console.error("Error updating:",e))};return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:" py-[50px]",id:"Resume",children:[(0,i.jsx)("button",{className:"border border-[#565656] text-[14px] rounded-3xl mb-[20px] py-2 px-5",children:"EDUCATION"}),(0,i.jsx)("div",{className:"pl-[80px] pb-5 border-l border-[#565656] relative",children:n.map(e=>(0,i.jsxs)("div",{className:"framers w-[100%] mb-[50px] relative",children:[(0,i.jsxs)("p",{id:"p1",className:"text-gray-400",children:[null==e?void 0:e.startDate," - ",(null==e?void 0:e.endDate)||"present"]}),(0,i.jsxs)("div",{className:"my-[30px]",children:[(0,i.jsx)("h3",{className:"text-2xl font-light",children:null==e?void 0:e.institution}),(0,i.jsx)("span",{className:"text-gray-400 text-[12px]",children:null==e?void 0:e.degree}),(0,i.jsx)("div",{children:(null==t?void 0:t.email)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>v(e._id,e),className:"bg-[#16A34A] text-white px-4 my-4 py-2 rounded",children:a[e._id]?"Hide Update Form":"Edit your job experience"}),a[e._id]&&(0,i.jsxs)("form",{onSubmit:o(l=>b(l,e._id)),className:"mt-4 bg-white p-6 rounded-lg shadow-lg",children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700",children:"Starting year"}),(0,i.jsx)("input",{className:"w-full border rounded-lg p-2 mt-1 text-gray-700",...r("startDate"),placeholder:"Enter your project Title"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700",children:"Passing year"}),(0,i.jsx)("input",{className:"w-full border rounded-lg p-2 mt-1 text-gray-700",...r("endDate"),placeholder:"Enter passing year"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block ",children:"Inistitution name"}),(0,i.jsx)("input",{className:"w-full border rounded-lg p-2 mt-1 text-gray-700",...r("inistitution"),placeholder:"Enter your inistituition"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700",children:"Degree name"}),(0,i.jsx)("input",{className:"w-full border rounded-lg p-2 mt-1 text-gray-700",...r("degree"),placeholder:"Enter your degree"})]}),(0,i.jsx)("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition",children:"Submit Update"})]})]})})]}),(0,i.jsx)("div",{className:"box absolute top-[0px] left-[-87px] h-[12px] w-[12px] bg-gray-400 rounded-full"})]},e._id))})]})})},h=()=>{var e,l,t,h,f,j,g,N,k,y,w,D,E,C,_,A,L,S,Z,U,V;let{user:F,handleSignOut:I}=(0,c.useContext)(m.I),[P,T]=(0,c.useState)(!1),z=(0,o.useParams)(),O=null==z?void 0:z.user,[Q,R]=(0,c.useState)([]),{register:H,handleSubmit:Y,reset:B}=(0,x.cI)();(0,c.useEffect)(()=>{u.Z.get("https://nfc-back-2.onrender.com/profile?uid=".concat(O)).then(e=>{var l;R(null===(l=e.data)||void 0===l?void 0:l.result)})},[]);let M=async()=>{try{var e,l,t,i,n;let d=await u.Z.post("https://nfc-back-2.onrender.com/vcard",{name:(null===(e=Q[0])||void 0===e?void 0:e.nickName)||"N/A",phone:(null===(l=Q[0])||void 0===l?void 0:l.phone)||"N/A",email:(null===(t=Q[0])||void 0===t?void 0:t.email)||"N/A",address:(null===(i=Q[0])||void 0===i?void 0:i.address)||"N/A"},{responseType:"blob"}),a=new Blob([d.data],{type:"text/vcard"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="".concat(null===(n=Q[0])||void 0===n?void 0:n.nickName,".vcf"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(e){console.error("Error generating vCard:",e),p.Am.error("Failed to download contact card.")}},q=async e=>{try{var l,t;let i=e.image[0],n=new FormData;n.append("image",i);let d=await u.Z.post("https://api.imgbb.com/1/upload?key=8ff2a9c0cd4072aa3589800869f231e0",n,{headers:{"Content-Type":"multipart/form-data"}}),a=null===(t=d.data)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.url,s={};s.uid=O,(null==e?void 0:e.nickName)&&(s.nickName=e.nickName),(null==e?void 0:e.designation)&&(s.designation=e.designation),(null==e?void 0:e.phone)&&(s.phone=e.phone),(null==e?void 0:e.image)&&(s.image=a),(null==e?void 0:e.address)&&(s.address=e.address),(null==e?void 0:e.fbLink)&&(s.fbLink=e.fbLink),(null==e?void 0:e.linkedin)&&(s.linkedin=e.linkedin),(null==e?void 0:e.insta)&&(s.insta=e.insta),(null==e?void 0:e.twitter)&&(s.twitter=e.twitter),await u.Z.put("https://nfc-back-2.onrender.com/profile?uid=".concat(O),s).then(e=>{var l;return R(null===(l=e.data)||void 0===l?void 0:l.result)}),T(!1),p.Am.success("Updated Succesfully"),B()}catch(e){console.log(e)}};return(0,i.jsxs)(i.Fragment,{children:[(null==F?void 0:F.email)&&(0,i.jsx)("div",{className:"fixed top-0 left-0 w-full bg-gray-800 text-white px-4 py-3 shadow-md flex justify-end items-center z-50",children:(0,i.jsx)(d.default,{href:"/contents/".concat(O),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md mr-2 transition duration-300",children:"add contents"})}),(0,i.jsx)("video",{className:"body-overlay",loop:!0,muted:!0,autoPlay:!0,children:(0,i.jsx)("source",{src:"https://wpriverthemes.com/drake/wp-content/themes/drake/assets/images/video4.mp4",type:"video/mp4"})}),(0,i.jsxs)("div",{className:"row grid lg:grid-cols-4 grid-cols-1 py-5 px-5 relative ".concat(F?"mt-[100px]":""),children:[(0,i.jsx)("div",{className:"py-[50px] ",children:(0,i.jsxs)("div",{className:"lg:fixed border lg:w-[400px]  rounded-3xl pt-[50px] pb-[50px] px-[40px] border-[#565656]",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center py-5",children:[(0,i.jsx)("h1",{className:"text-4xl",children:null===(e=Q[0])||void 0===e?void 0:e.nickName}),(0,i.jsx)("p",{children:null===(l=Q[0])||void 0===l?void 0:l.designation})]}),(0,i.jsx)(n.default,{className:"rounded-3xl mb-[30px] w-[400px] h-[300px]",src:null===(t=Q[0])||void 0===t?void 0:t.image,unoptimized:!0,height:500,width:500}),(0,i.jsxs)("div",{className:"text-center ",children:[(0,i.jsx)("h3",{className:"text-2xl",children:null===(h=Q[0])||void 0===h?void 0:h.nickName}),(0,i.jsx)("p",{className:"text-gray-400 pb-[20px]",children:null===(f=Q[0])||void 0===f?void 0:f.address}),(0,i.jsxs)("ul",{className:"grid grid-cols-4 w-[100%]  place-content-center my-[20px] gap-3",children:[(null===(j=Q[0])||void 0===j?void 0:j.fbLink)&&(0,i.jsx)("li",{className:" flex items-center justify-center",children:(0,i.jsx)("a",{href:"https://".concat(null===(g=Q[0])||void 0===g?void 0:g.fbLink),children:(0,i.jsx)(v.QZ,{network:"facebook",size:20})})}),(null===(N=Q[0])||void 0===N?void 0:N.insta)&&(0,i.jsx)("li",{className:" flex items-center justify-center",children:(0,i.jsx)("a",{href:"https://".concat(null===(k=Q[0])||void 0===k?void 0:k.insta),children:(0,i.jsx)(v.QZ,{network:"instagram"})})}),(null===(y=Q[0])||void 0===y?void 0:y.twitter)&&(0,i.jsx)("li",{className:"l flex items-center justify-center",children:(0,i.jsx)("a",{href:"https://".concat(null===(w=Q[0])||void 0===w?void 0:w.twitter),children:(0,i.jsx)(v.QZ,{network:"twitter"})})}),(null===(D=Q[0])||void 0===D?void 0:D.linkedin)&&(0,i.jsx)("li",{className:" flex items-center justify-center",children:(0,i.jsx)("a",{href:"https://".concat(null===(E=Q[0])||void 0===E?void 0:E.linkedin),children:(0,i.jsx)(v.QZ,{network:"linkedin"})})})]}),(0,i.jsxs)("div",{className:"flex justify-center",children:[(0,i.jsx)("button",{onClick:M,className:"mt-3 mr-3 bg-[#16A34A] text-white px-4 py-2 rounded-lg",children:"Contact Me"}),(null==F?void 0:F.email)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("button",{onClick:()=>T(!P),className:"mt-3 bg-gray-700 text-white px-4 py-2 rounded-lg",children:P?"Hide":"Edit Profile"})})]})]})]})}),(0,i.jsxs)("div",{className:"col-span-2 lg:pl-[200px]",children:[(0,i.jsx)(a.default,{uid:O}),(0,i.jsx)(b,{uid:O}),(0,i.jsx)(s.default,{uid:O}),(0,i.jsx)(r.default,{uid:O})]}),P&&(0,i.jsx)("div",{className:"fixed p-5 top-0 left-0 w-full h-full bg-black bg-opacity-20 backdrop-blur-md flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[400px] relative",children:[(0,i.jsx)("button",{onClick:()=>T(!1),className:"absolute top-5 right-2 text-xl",children:"‚ùå"}),(0,i.jsx)("h2",{className:"text-xl text-black font-semibold mb-4",children:"Update Profile"}),(0,i.jsxs)("form",{className:"text-black",onSubmit:Y(q),children:[(0,i.jsx)("label",{className:"block mb-2 text-black",children:"Enter your nickname"}),(0,i.jsx)("input",{...H("nickName"),defaultValue:null===(C=Q[0])||void 0===C?void 0:C.nickName,className:"w-full border text-black p-2 rounded mb-3",placeholder:"Enter Your designation"}),(0,i.jsx)("label",{className:"block mb-2",children:"Designation"}),(0,i.jsx)("input",{...H("designation"),defaultValue:null===(_=Q[0])||void 0===_?void 0:_.designation,className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("label",{className:"block mb-2",children:"Type your phone number"}),(0,i.jsx)("input",{...H("phone"),defaultValue:null===(A=Q[0])||void 0===A?void 0:A.phone,className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("label",{className:"block mb-2",children:"Upload Your image"}),(0,i.jsx)("input",{type:"file",...H("image"),className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("label",{className:"block mb-2",children:"Enter your address"}),(0,i.jsx)("input",{...H("address"),defaultValue:null===(L=Q[0])||void 0===L?void 0:L.address,className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("label",{className:"block mb-2",children:"Facebook Link"}),(0,i.jsx)("input",{...H("fbLink"),defaultValue:null===(S=Q[0])||void 0===S?void 0:S.fbLink,className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("label",{className:"block mb-2",children:"Linkedin"}),(0,i.jsx)("input",{...H("linkedin"),defaultValue:null===(Z=Q[0])||void 0===Z?void 0:Z.linkedin,className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("label",{className:"block mb-2",children:"Instagram"}),(0,i.jsx)("input",{...H("insta"),defaultValue:null===(U=Q[0])||void 0===U?void 0:U.insta,className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("label",{className:"block mb-2",children:"twitter"}),(0,i.jsx)("input",{...H("twitter"),defaultValue:null===(V=Q[0])||void 0===V?void 0:V.twitter,className:"w-full border p-2 rounded mb-3"}),(0,i.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded mt-3",children:"Save Changes"})]})]})})]})]})}}},function(e){e.O(0,[124,711,270,400,676,876,694,464,444,458,286,953,971,117,744],function(){return e(e.s=3128)}),_N_E=e.O()}]);