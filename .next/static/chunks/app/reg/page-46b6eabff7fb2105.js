(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{7759:function(e,t,r){Promise.resolve().then(r.bind(r,9063))},5607:function(e,t,r){var n=0/0,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")(),f=Object.prototype.toString,m=Math.max,p=Math.min,g=function(){return d.Date.now()};function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==f.call(t))return n;if(x(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=x(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var c=i.test(e);return c||o.test(e)?u(e.slice(2),c?2:8):a.test(e)?n:+e}e.exports=function(e,t,r){var n,s,a,i,o,u,c=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(t){var r=n,a=s;return n=s=void 0,c=t,i=e.apply(a,r)}function y(e){var r=e-u,n=e-c;return void 0===u||r>=t||r<0||d&&n>=a}function v(){var e,r,n,s=g();if(y(s))return j(s);o=setTimeout(v,(e=s-u,r=s-c,n=t-e,d?p(n,a-r):n))}function j(e){return(o=void 0,f&&n)?b(e):(n=s=void 0,i)}function w(){var e,r=g(),a=y(r);if(n=arguments,s=this,u=r,a){if(void 0===o)return c=e=u,o=setTimeout(v,t),l?b(e):i;if(d)return o=setTimeout(v,t),b(u)}return void 0===o&&(o=setTimeout(v,t)),i}return t=h(t)||0,x(r)&&(l=!!r.leading,a=(d="maxWait"in r)?m(h(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),w.cancel=function(){void 0!==o&&clearTimeout(o),c=0,n=u=s=o=void 0},w.flush=function(){return void 0===o?i:j(g())},w}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(2972),s=r.n(n)},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},714:function(e,t,r){"use strict";r.d(t,{I:function(){return o},default:function(){return c}});var n=r(7437),s=r(2265);let a=(0,r(738).ZF)({apiKey:"AIzaSyAYoc2Ce2GnoImbZCt4yeOEwzE7RJ30BMw",authDomain:"nfc24-e71b4.firebaseapp.com",projectId:"nfc24-e71b4",storageBucket:"nfc24-e71b4.firebasestorage.app",messagingSenderId:"427065559259",appId:"1:427065559259:web:b315185aab57358f52e4fe",measurementId:"G-78TGFCYRSQ"});var i=r(4752);let o=(0,s.createContext)(),u=(0,i.v0)(a);var c=e=>{let{children:t}=e,[r,a]=(0,s.useState)(),[c,l]=(0,s.useState)();return(0,s.useEffect)(()=>{(0,i.Aj)(u,e=>{e?a(e):a(null),l(!1)})},[]),(0,n.jsx)(o.Provider,{value:{handleReg:(e,t)=>(0,i.Xb)(u,e,t),user:r,handleSignOut:()=>(0,i.w7)(u),updateName:e=>{(0,i.ck)(u.currentUser,{displayName:e}).then(()=>{}).catch(e=>{})},handleLogin:(e,t)=>(0,i.e5)(u,e,t)},children:t})}},9063:function(e,t,r){"use strict";r.r(t);var n=r(7437),s=r(2265),a=r(9501),i=r(714),o=r(3464),u=r(9376),c=r(7648),l=r(5607),d=r.n(l);t.default=()=>{let{user:e,handleReg:t,updateName:r}=(0,s.useContext)(i.I),[l,f]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[g,x]=(0,s.useState)(!1),h=(0,u.useRouter)(),[b,y]=(0,s.useState)(""),{register:v,handleSubmit:j,watch:w,formState:{errors:N}}=(0,a.cI)(),E=w("userName");E=E?E.trim().toLowerCase():"";let k=async e=>{if(e.length<3){p(!1);return}try{let t=await o.Z.get("https://nfc-back-2.onrender.com/reginfo?username=".concat(e));console.log(t.data),t.data.result&&t.data.result.length>0?p(!0):p(!1)}catch(e){console.error("Error checking username:",e)}},S=(0,s.useCallback)(d()(e=>k(e),500),[]);(0,s.useEffect)(()=>{S(E)},[E,S]);let C=async e=>{f(""),y(""),x(!0);let n=e.userName.trim().toLowerCase();try{if(m){f("Username already exists. Try another."),x(!1);return}await t(null==e?void 0:e.email,null==e?void 0:e.passwords),await r(n),await o.Z.post("https://nfc-back-2.onrender.com/reginfo",{userName:n,emails:null==e?void 0:e.email,passwords:null==e?void 0:e.passwords}),y("Account created successfully! \uD83C\uDF89"),setTimeout(()=>{h.push("/contents")},2e3)}catch(e){console.error("Error:",e),f("An error occurred. Please try again.")}finally{x(!1)}};return(0,n.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-900",children:(0,n.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg w-96",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"Register"}),b&&(0,n.jsx)("p",{className:"text-green-500 text-sm text-center mb-4",children:b}),l&&(0,n.jsx)("p",{className:"text-red-500 text-sm text-center mb-4",children:l}),(0,n.jsxs)("form",{onSubmit:j(C),className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-gray-400",children:"Username"}),(0,n.jsx)("input",{type:"text",...v("userName",{required:!0}),className:"w-full p-2 mt-1 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter your username"}),N.userName&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:"Username is required"}),m&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:"Username already taken"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-gray-400",children:"Email"}),(0,n.jsx)("input",{type:"email",...v("email",{required:!0}),className:"w-full p-2 mt-1 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter your email"}),N.email&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:"Email is required"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-gray-400",children:"Password"}),(0,n.jsx)("input",{type:"password",...v("passwords",{required:!0}),className:"w-full p-2 mt-1 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter your password"}),N.passwords&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:"Password is required"})]}),(0,n.jsx)("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 rounded-md transition-all",disabled:m||g,children:g?"Registering...":"Register"}),(0,n.jsx)(c.default,{className:"text-blue-600 my-2",href:"/login",children:"Already have an account"})]})]})})}}},function(e){e.O(0,[400,876,694,464,971,117,744],function(){return e(e.s=7759)}),_N_E=e.O()}]);